{"version":3,"sources":["../src/components/Collapse/collapse-test-utils.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\nimport type { AtomMotion } from '@fluentui/react-motion';\n\n/**\n * Collapse-specific test utilities for validating motion structure and behavior.\n * These utilities are meant to be used within Jest test files.\n */\n\nexport interface CollapseMotionCounts {\n  enter: number;\n  exit: number;\n}\n\nexport interface CollapseTimingExpectations {\n  enter: { size: number; whitespace: number; opacity?: number };\n  exit: { opacity?: number; size: number; whitespace: number };\n}\n\nexport interface CollapseDurationExpectations {\n  enter: { size: number; whitespace: number; opacity?: number };\n  exit: { opacity?: number; size: number; whitespace: number };\n}\n\n/**\n * Helper to validate the structure of a collapse motion object.\n * Returns validation data that can be used with Jest expectations.\n */\nexport function getCollapseMotionValidation(motion: { enter: AtomMotion[]; exit: AtomMotion[] }) {\n  return {\n    enterCount: motion.enter.length,\n    exitCount: motion.exit.length,\n    hasEnterOpacity: motion.enter.length === 3 && 'opacity' in (motion.enter[2].keyframes[0] || {}),\n    hasExitOpacity: motion.exit.length === 3 && 'opacity' in (motion.exit[0].keyframes[0] || {}),\n    enterStructure: motion.enter.map(atom => ({\n      hasKeyframes: Array.isArray(atom.keyframes),\n      hasDuration: typeof atom.duration === 'number',\n      hasEasing: typeof atom.easing === 'string',\n      hasDelay: typeof atom.delay === 'number',\n    })),\n    exitStructure: motion.exit.map(atom => ({\n      hasKeyframes: Array.isArray(atom.keyframes),\n      hasDuration: typeof atom.duration === 'number',\n      hasEasing: typeof atom.easing === 'string',\n      hasDelay: typeof atom.delay === 'number',\n    })),\n  };\n}\n\n/**\n * Helper to extract timing information from collapse motion atoms.\n */\nexport function getCollapseTimingInfo(\n  motion: { enter: AtomMotion[]; exit: AtomMotion[] },\n  animateOpacity: boolean = true,\n) {\n  const enterDelays = {\n    size: motion.enter[0]?.delay ?? 0,\n    whitespace: motion.enter[1]?.delay ?? 0,\n    opacity: animateOpacity ? motion.enter[2]?.delay ?? 0 : undefined,\n  };\n\n  const exitDelays = animateOpacity\n    ? {\n        opacity: motion.exit[0]?.delay ?? 0,\n        size: motion.exit[1]?.delay ?? 0,\n        whitespace: motion.exit[2]?.delay ?? 0,\n      }\n    : {\n        size: motion.exit[0]?.delay ?? 0,\n        whitespace: motion.exit[1]?.delay ?? 0,\n      };\n\n  return { enter: enterDelays, exit: exitDelays };\n}\n\n/**\n * Helper to extract duration information from collapse motion atoms.\n */\nexport function getCollapseDurationInfo(\n  motion: { enter: AtomMotion[]; exit: AtomMotion[] },\n  animateOpacity: boolean = true,\n) {\n  const enterDurations = {\n    size: motion.enter[0]?.duration ?? 0,\n    whitespace: motion.enter[1]?.duration ?? 0,\n    opacity: animateOpacity ? motion.enter[2]?.duration ?? 0 : undefined,\n  };\n\n  const exitDurations = animateOpacity\n    ? {\n        opacity: motion.exit[0]?.duration ?? 0,\n        size: motion.exit[1]?.duration ?? 0,\n        whitespace: motion.exit[2]?.duration ?? 0,\n      }\n    : {\n        size: motion.exit[0]?.duration ?? 0,\n        whitespace: motion.exit[1]?.duration ?? 0,\n      };\n\n  return { enter: enterDurations, exit: exitDurations };\n}\n\n/**\n * Helper to analyze orientation-specific properties in collapse atoms.\n */\nexport function getCollapseOrientationInfo(\n  motion: { enter: AtomMotion[]; exit: AtomMotion[] },\n  animateOpacity: boolean = true,\n) {\n  const enterSizeAtom = motion.enter[0];\n  const enterWhitespaceAtom = motion.enter[1];\n\n  const exitOffset = animateOpacity ? 1 : 0;\n  const exitSizeAtom = motion.exit[exitOffset];\n  const exitWhitespaceAtom = motion.exit[exitOffset + 1];\n\n  return {\n    enter: {\n      sizeProperties: Object.keys(enterSizeAtom?.keyframes[0] || {}),\n      whitespaceProperties: Object.keys(enterWhitespaceAtom?.keyframes[0] || {}),\n    },\n    exit: {\n      sizeProperties: Object.keys(exitSizeAtom?.keyframes[0] || {}),\n      whitespaceProperties: Object.keys(exitWhitespaceAtom?.keyframes[0] || {}),\n    },\n  };\n}\n\n/**\n * Helper to analyze size atom keyframes for validation.\n */\nexport function getSizeAtomInfo(sizeAtom: AtomMotion, direction: 'enter' | 'exit') {\n  const keyframes = sizeAtom.keyframes;\n  const properties = Object.keys(keyframes[0] || {});\n\n  return {\n    keyframeCount: keyframes.length,\n    properties,\n    hasOffset: direction === 'enter' ? 'offset' in (keyframes[1] || {}) : false,\n    hasFill: 'fill' in sizeAtom,\n    fillValue: sizeAtom.fill,\n    firstFrameValues: keyframes[0] || {},\n    lastFrameValues: keyframes[keyframes.length - 1] || {},\n  };\n}\n\n/**\n * Helper to analyze whitespace atom keyframes for validation.\n */\nexport function getWhitespaceAtomInfo(whitespaceAtom: AtomMotion, direction: 'enter' | 'exit') {\n  const keyframe = whitespaceAtom.keyframes[0] || {};\n\n  return {\n    properties: Object.keys(keyframe),\n    offset: keyframe.offset,\n    expectedOffset: direction === 'enter' ? 0 : 1,\n    hasFill: 'fill' in whitespaceAtom,\n    fillValue: whitespaceAtom.fill,\n    isVertical: 'paddingBlockStart' in keyframe,\n    isHorizontal: 'paddingInlineStart' in keyframe,\n  };\n}\n\n/**\n * Helper to compare opacity handling between two motion objects.\n */\nexport function getOpacityComparisonInfo(\n  withOpacity: { enter: AtomMotion[]; exit: AtomMotion[] },\n  withoutOpacity: { enter: AtomMotion[]; exit: AtomMotion[] },\n) {\n  return {\n    withOpacity: {\n      enterCount: withOpacity.enter.length,\n      exitCount: withOpacity.exit.length,\n      hasEnterOpacity: withOpacity.enter.length === 3,\n      hasExitOpacity: withOpacity.exit.length === 3,\n    },\n    withoutOpacity: {\n      enterCount: withoutOpacity.enter.length,\n      exitCount: withoutOpacity.exit.length,\n      hasEnterOpacity: false,\n      hasExitOpacity: false,\n    },\n  };\n}\n"],"names":["getCollapseMotionValidation","motion","enterCount","enter","length","exitCount","exit","hasEnterOpacity","keyframes","hasExitOpacity","enterStructure","map","atom","hasKeyframes","Array","isArray","hasDuration","duration","hasEasing","easing","hasDelay","delay","exitStructure","getCollapseTimingInfo","animateOpacity","enterDelays","size","whitespace","opacity","undefined","exitDelays","getCollapseDurationInfo","enterDurations","exitDurations","getCollapseOrientationInfo","enterSizeAtom","enterWhitespaceAtom","exitOffset","exitSizeAtom","exitWhitespaceAtom","sizeProperties","Object","keys","whitespaceProperties","getSizeAtomInfo","sizeAtom","direction","properties","keyframeCount","hasOffset","hasFill","fillValue","fill","firstFrameValues","lastFrameValues","getWhitespaceAtomInfo","whitespaceAtom","keyframe","offset","expectedOffset","isVertical","isHorizontal","getOpacityComparisonInfo","withOpacity","withoutOpacity"],"mappings":"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"}