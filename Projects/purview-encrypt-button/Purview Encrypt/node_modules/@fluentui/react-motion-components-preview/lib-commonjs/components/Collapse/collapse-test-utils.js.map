{"version":3,"sources":["../src/components/Collapse/collapse-test-utils.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\nimport type { AtomMotion } from '@fluentui/react-motion';\n\n/**\n * Collapse-specific test utilities for validating motion structure and behavior.\n * These utilities are meant to be used within Jest test files.\n */\n\nexport interface CollapseMotionCounts {\n  enter: number;\n  exit: number;\n}\n\nexport interface CollapseTimingExpectations {\n  enter: { size: number; whitespace: number; opacity?: number };\n  exit: { opacity?: number; size: number; whitespace: number };\n}\n\nexport interface CollapseDurationExpectations {\n  enter: { size: number; whitespace: number; opacity?: number };\n  exit: { opacity?: number; size: number; whitespace: number };\n}\n\n/**\n * Helper to validate the structure of a collapse motion object.\n * Returns validation data that can be used with Jest expectations.\n */\nexport function getCollapseMotionValidation(motion: { enter: AtomMotion[]; exit: AtomMotion[] }) {\n  return {\n    enterCount: motion.enter.length,\n    exitCount: motion.exit.length,\n    hasEnterOpacity: motion.enter.length === 3 && 'opacity' in (motion.enter[2].keyframes[0] || {}),\n    hasExitOpacity: motion.exit.length === 3 && 'opacity' in (motion.exit[0].keyframes[0] || {}),\n    enterStructure: motion.enter.map(atom => ({\n      hasKeyframes: Array.isArray(atom.keyframes),\n      hasDuration: typeof atom.duration === 'number',\n      hasEasing: typeof atom.easing === 'string',\n      hasDelay: typeof atom.delay === 'number',\n    })),\n    exitStructure: motion.exit.map(atom => ({\n      hasKeyframes: Array.isArray(atom.keyframes),\n      hasDuration: typeof atom.duration === 'number',\n      hasEasing: typeof atom.easing === 'string',\n      hasDelay: typeof atom.delay === 'number',\n    })),\n  };\n}\n\n/**\n * Helper to extract timing information from collapse motion atoms.\n */\nexport function getCollapseTimingInfo(\n  motion: { enter: AtomMotion[]; exit: AtomMotion[] },\n  animateOpacity: boolean = true,\n) {\n  const enterDelays = {\n    size: motion.enter[0]?.delay ?? 0,\n    whitespace: motion.enter[1]?.delay ?? 0,\n    opacity: animateOpacity ? motion.enter[2]?.delay ?? 0 : undefined,\n  };\n\n  const exitDelays = animateOpacity\n    ? {\n        opacity: motion.exit[0]?.delay ?? 0,\n        size: motion.exit[1]?.delay ?? 0,\n        whitespace: motion.exit[2]?.delay ?? 0,\n      }\n    : {\n        size: motion.exit[0]?.delay ?? 0,\n        whitespace: motion.exit[1]?.delay ?? 0,\n      };\n\n  return { enter: enterDelays, exit: exitDelays };\n}\n\n/**\n * Helper to extract duration information from collapse motion atoms.\n */\nexport function getCollapseDurationInfo(\n  motion: { enter: AtomMotion[]; exit: AtomMotion[] },\n  animateOpacity: boolean = true,\n) {\n  const enterDurations = {\n    size: motion.enter[0]?.duration ?? 0,\n    whitespace: motion.enter[1]?.duration ?? 0,\n    opacity: animateOpacity ? motion.enter[2]?.duration ?? 0 : undefined,\n  };\n\n  const exitDurations = animateOpacity\n    ? {\n        opacity: motion.exit[0]?.duration ?? 0,\n        size: motion.exit[1]?.duration ?? 0,\n        whitespace: motion.exit[2]?.duration ?? 0,\n      }\n    : {\n        size: motion.exit[0]?.duration ?? 0,\n        whitespace: motion.exit[1]?.duration ?? 0,\n      };\n\n  return { enter: enterDurations, exit: exitDurations };\n}\n\n/**\n * Helper to analyze orientation-specific properties in collapse atoms.\n */\nexport function getCollapseOrientationInfo(\n  motion: { enter: AtomMotion[]; exit: AtomMotion[] },\n  animateOpacity: boolean = true,\n) {\n  const enterSizeAtom = motion.enter[0];\n  const enterWhitespaceAtom = motion.enter[1];\n\n  const exitOffset = animateOpacity ? 1 : 0;\n  const exitSizeAtom = motion.exit[exitOffset];\n  const exitWhitespaceAtom = motion.exit[exitOffset + 1];\n\n  return {\n    enter: {\n      sizeProperties: Object.keys(enterSizeAtom?.keyframes[0] || {}),\n      whitespaceProperties: Object.keys(enterWhitespaceAtom?.keyframes[0] || {}),\n    },\n    exit: {\n      sizeProperties: Object.keys(exitSizeAtom?.keyframes[0] || {}),\n      whitespaceProperties: Object.keys(exitWhitespaceAtom?.keyframes[0] || {}),\n    },\n  };\n}\n\n/**\n * Helper to analyze size atom keyframes for validation.\n */\nexport function getSizeAtomInfo(sizeAtom: AtomMotion, direction: 'enter' | 'exit') {\n  const keyframes = sizeAtom.keyframes;\n  const properties = Object.keys(keyframes[0] || {});\n\n  return {\n    keyframeCount: keyframes.length,\n    properties,\n    hasOffset: direction === 'enter' ? 'offset' in (keyframes[1] || {}) : false,\n    hasFill: 'fill' in sizeAtom,\n    fillValue: sizeAtom.fill,\n    firstFrameValues: keyframes[0] || {},\n    lastFrameValues: keyframes[keyframes.length - 1] || {},\n  };\n}\n\n/**\n * Helper to analyze whitespace atom keyframes for validation.\n */\nexport function getWhitespaceAtomInfo(whitespaceAtom: AtomMotion, direction: 'enter' | 'exit') {\n  const keyframe = whitespaceAtom.keyframes[0] || {};\n\n  return {\n    properties: Object.keys(keyframe),\n    offset: keyframe.offset,\n    expectedOffset: direction === 'enter' ? 0 : 1,\n    hasFill: 'fill' in whitespaceAtom,\n    fillValue: whitespaceAtom.fill,\n    isVertical: 'paddingBlockStart' in keyframe,\n    isHorizontal: 'paddingInlineStart' in keyframe,\n  };\n}\n\n/**\n * Helper to compare opacity handling between two motion objects.\n */\nexport function getOpacityComparisonInfo(\n  withOpacity: { enter: AtomMotion[]; exit: AtomMotion[] },\n  withoutOpacity: { enter: AtomMotion[]; exit: AtomMotion[] },\n) {\n  return {\n    withOpacity: {\n      enterCount: withOpacity.enter.length,\n      exitCount: withOpacity.exit.length,\n      hasEnterOpacity: withOpacity.enter.length === 3,\n      hasExitOpacity: withOpacity.exit.length === 3,\n    },\n    withoutOpacity: {\n      enterCount: withoutOpacity.enter.length,\n      exitCount: withoutOpacity.exit.length,\n      hasEnterOpacity: false,\n      hasExitOpacity: false,\n    },\n  };\n}\n"],"names":["getCollapseDurationInfo","getCollapseMotionValidation","getCollapseOrientationInfo","getCollapseTimingInfo","getOpacityComparisonInfo","getSizeAtomInfo","getWhitespaceAtomInfo","motion","enterCount","enter","length","exitCount","exit","hasEnterOpacity","keyframes","hasExitOpacity","enterStructure","map","atom","hasKeyframes","Array","isArray","hasDuration","duration","hasEasing","easing","hasDelay","delay","exitStructure","animateOpacity","enterDelays","size","whitespace","opacity","undefined","exitDelays","enterDurations","exitDurations","enterSizeAtom","enterWhitespaceAtom","exitOffset","exitSizeAtom","exitWhitespaceAtom","sizeProperties","Object","keys","whitespaceProperties","sizeAtom","direction","properties","keyframeCount","hasOffset","hasFill","fillValue","fill","firstFrameValues","lastFrameValues","whitespaceAtom","keyframe","offset","expectedOffset","isVertical","isHorizontal","withOpacity","withoutOpacity"],"mappings":"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"}