{"version":3,"sources":["../src/components/MessageBarGroup/MessageBarGroup.motions.tsx"],"sourcesContent":["import { motionTokens, createPresenceComponent, PresenceDirection, AtomMotion } from '@fluentui/react-motion';\nimport { MessageBarGroupProps } from './MessageBarGroup.types';\n\n// TODO: import these atoms from react-motion-components-preview once they're available there\n\ntype BaseAtomParams = {\n  /** The functional direction of the motion: 'enter' or 'exit'. */\n  direction: PresenceDirection;\n\n  /** The duration of the motion in milliseconds. */\n  duration: number;\n\n  /** The easing curve for the motion. */\n  easing?: EffectTiming['easing'];\n\n  /** Time (ms) to delay the animation. */\n  delay?: EffectTiming['delay'];\n};\n\ninterface FadeAtomParams extends BaseAtomParams {\n  /** Defines how values are applied before and after execution. Defaults to 'both'. */\n  fill?: FillMode;\n\n  /** The starting opacity value. Defaults to 0. */\n  fromOpacity?: number;\n}\n\n/**\n * Generates a motion atom object for a fade-in or fade-out.\n * @param direction - The functional direction of the motion: 'enter' or 'exit'.\n * @param duration - The duration of the motion in milliseconds.\n * @param easing - The easing curve for the motion. Defaults to `motionTokens.curveLinear`.\n * @param delay - The delay before the motion starts. Defaults to 0.\n * @param fromOpacity - The starting opacity value. Defaults to 0.\n * @returns A motion atom object with opacity keyframes and the supplied duration and easing.\n */\nexport const fadeAtom = ({\n  direction,\n  duration,\n  easing = motionTokens.curveLinear,\n  delay = 0,\n  fromOpacity = 0,\n}: FadeAtomParams): AtomMotion => {\n  const keyframes = [{ opacity: fromOpacity }, { opacity: 1 }];\n  if (direction === 'exit') {\n    keyframes.reverse();\n  }\n  return {\n    keyframes,\n    duration,\n    easing,\n    delay,\n    // Applying opacity backwards and forwards in time is important\n    // to avoid a bug where a delayed animation is not hidden when it should be.\n    fill: 'both',\n  };\n};\n\ninterface SlideAtomParams extends BaseAtomParams {\n  fromX?: string;\n  fromY?: string;\n}\n\n/**\n * Generates a motion atom object for a slide-in or slide-out.\n * @param direction - The functional direction of the motion: 'enter' or 'exit'.\n * @param duration - The duration of the motion in milliseconds.\n * @param easing - The easing curve for the motion. Defaults to `motionTokens.curveLinear`.\n * @param fromX - The starting X translate value with units (e.g., '0px', '100%'). Defaults to '0px'.\n * @param fromY - The starting Y translate value with units (e.g., '-20px', '100%'). Defaults to '0px'.\n * @returns A motion atom object with translate keyframes and the supplied duration and easing.\n */\nexport const slideAtom = ({\n  direction,\n  duration,\n  easing = motionTokens.curveLinear,\n  delay = 0,\n  fromX = '0px',\n  fromY = '20px',\n}: SlideAtomParams): AtomMotion => {\n  const keyframes = [{ translate: `${fromX} ${fromY}` }, { translate: '0px 0px' }];\n  if (direction === 'exit') {\n    keyframes.reverse();\n  }\n  return {\n    keyframes,\n    duration,\n    easing,\n    delay,\n  };\n};\n\n/**\n * A presence component for a MessageBar to enter and exit from a MessageBarGroup.\n * It has an optional enter transition of a slide-in and fade-in,\n * when the `animate` prop is set to `'both'`.\n * It always has an exit transition of a fade-out.\n */\nexport const MessageBarMotion = createPresenceComponent<{ animate?: MessageBarGroupProps['animate'] }>(\n  ({ animate }) => {\n    const duration = motionTokens.durationGentle;\n\n    return {\n      enter:\n        animate === 'both'\n          ? // enter with slide and fade\n            [fadeAtom({ direction: 'enter', duration }), slideAtom({ direction: 'enter', fromY: '-100%', duration })]\n          : [], // no enter motion\n\n      // Always exit with a fade\n      exit: fadeAtom({ direction: 'exit', duration }),\n    };\n  },\n);\n"],"names":["motionTokens","createPresenceComponent","fadeAtom","direction","duration","easing","curveLinear","delay","fromOpacity","keyframes","opacity","reverse","fill","slideAtom","fromX","fromY","translate","MessageBarMotion","animate","durationGentle","enter","exit"],"mappings":"AAAA,SAASA,YAAY,EAAEC,uBAAuB,QAAuC,yBAAyB;AA2B9G;;;;;;;;CAQC,GACD,OAAO,MAAMC,WAAW,CAAC,EACvBC,SAAS,EACTC,QAAQ,EACRC,SAASL,aAAaM,WAAW,EACjCC,QAAQ,CAAC,EACTC,cAAc,CAAC,EACA;IACf,MAAMC,YAAY;QAAC;YAAEC,SAASF;QAAY;QAAG;YAAEE,SAAS;QAAE;KAAE;IAC5D,IAAIP,cAAc,QAAQ;QACxBM,UAAUE,OAAO;IACnB;IACA,OAAO;QACLF;QACAL;QACAC;QACAE;QACA,+DAA+D;QAC/D,4EAA4E;QAC5EK,MAAM;IACR;AACF,EAAE;AAOF;;;;;;;;CAQC,GACD,OAAO,MAAMC,YAAY,CAAC,EACxBV,SAAS,EACTC,QAAQ,EACRC,SAASL,aAAaM,WAAW,EACjCC,QAAQ,CAAC,EACTO,QAAQ,KAAK,EACbC,QAAQ,MAAM,EACE;IAChB,MAAMN,YAAY;QAAC;YAAEO,WAAW,GAAGF,MAAM,CAAC,EAAEC,OAAO;QAAC;QAAG;YAAEC,WAAW;QAAU;KAAE;IAChF,IAAIb,cAAc,QAAQ;QACxBM,UAAUE,OAAO;IACnB;IACA,OAAO;QACLF;QACAL;QACAC;QACAE;IACF;AACF,EAAE;AAEF;;;;;CAKC,GACD,OAAO,MAAMU,mBAAmBhB,wBAC9B,CAAC,EAAEiB,OAAO,EAAE;IACV,MAAMd,WAAWJ,aAAamB,cAAc;IAE5C,OAAO;QACLC,OACEF,YAAY,SAER;YAAChB,SAAS;gBAAEC,WAAW;gBAASC;YAAS;YAAIS,UAAU;gBAAEV,WAAW;gBAASY,OAAO;gBAASX;YAAS;SAAG,GACzG,EAAE;QAER,0BAA0B;QAC1BiB,MAAMnB,SAAS;YAAEC,WAAW;YAAQC;QAAS;IAC/C;AACF,GACA"}